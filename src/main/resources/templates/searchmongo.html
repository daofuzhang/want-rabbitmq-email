<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>邮件查询</title>
<link rel="stylesheet" type="text/css" href="../easyui/themes/default/easyui.css" />
<link rel="stylesheet" type="text/css" href="../easyui/themes/icon.css" />
<script type="text/javascript" src="../easyui/jquery.min.js"></script>
<script type="text/javascript" src="../easyui/jquery.easyui.min.js"></script>
<script type="text/javascript" src="../easyui/locale/easyui-lang-zh_CN.js"></script>
<script type="text/javascript">
function searchdg(){
	var options = $('#dg').datagrid('getPager').data("pagination").options;
	var vpage = options.pageNumber;//当前页数  
	var vtotal = options.total;
	var vrows = options.pageSize;//每页的记录数（行数）
	 $("#dg").datagrid("load", 
			{
		        mailTitle: $("#mailTitle").val(),
		        mailContent: $("#mailContent").val(),
		        recipient: $("#recipient").val(),
		        cc: $("#cc").val(),
		        begin: $("#begin").val(),
		        end: $("#end").val(),
		        page:vpage,
		        rows:vrows
           }
	); 
}
</script>
</head>
<body class="easyui-layout"  data-options="fit:true">

    <div data-options="region:'north',border:false" style="height:60px;background:#B3DFDA;padding:10px">
       MongoDB Email Search for want2.0 @2019 created by 00291315.
    </div>

	<div
		data-options="region:'center', split:true, title:'MongoDB邮件查询'">
		<table id="dg" class="easyui-datagrid" 
			data-options="fit:true,rownumbers:true,fitColumns:true,pagination:true,singleSelect:true,url:'/mongo/searchpaging',method:'get',toolbar:'#tb'">
			<thead>
				<tr>
					<th data-options="field:'mailTitle'" width="80">标题</th>
					<th data-options="field:'mailContent'" width="100">内容</th>
					<th data-options="field:'recipient'" width="80">接收者</th>
					<th data-options="field:'cc'" width="80">抄送者</th>
					<th data-options="field:'sender'" width="150">发送者</th>
					<th data-options="field:'createDate'" width="60">发送时间</th>
				</tr>
			</thead>
		</table>
		<div id="tb" style="padding: 5px; height: auto">
			<table style="width: 99%; text-align: left;">
				<tr>
					<td>标题</td>
					<td><input type="text" id="mailTitle" /></td>
					<td>内容</td>
					<td><input type="text" id="mailContent"  /></td>
					<td></td>
				</tr>
				<tr>
					<td>接收者</td>
					<td><input type="text" id="recipient" /></td>
					<td>抄送者</td>
					<td><input type="text" id="cc"   /></td>
					<td></td>
				</tr>
				<tr>
					<td>开始时间</td>
					<td><input type="text" class="easyui-datebox" id="begin" /></td>
					<td>结束时间</td>
					<td><input type="text" class="easyui-datebox" id="end" /></td>
					<td style="text-align:right"><a onclick="searchdg()" class="easyui-linkbutton" iconCls="icon-search">查询</a></td>
				</tr>
			</table>
		</div>
	</div>
</body>
</html>